
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ice Guardian - Quick Verification</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      line-height: 1.5;
      max-width: 600px;
      margin: 20px auto;
      padding: 20px;
      background: #f8fafc;
      color: #0f172a;
    }
    h1 {
      color: #0f172a;
      border-bottom: 2px solid #e2e8f0;
      padding-bottom: 10px;
    }
    .card {
      background: white;
      border-radius: 8px;
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    .success {
      color: #16a34a;
    }
    .error {
      color: #dc2626;
    }
    button {
      background: #0ea5e9;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 8px;
    }
    button:hover {
      background: #0284c7;
    }
  </style>
</head>
<body>
  <h1>Ice Guardian Quick Verification</h1>
  <p>This page helps verify basic browser capabilities needed for the app.</p>
  
  <div class="card">
    <h2>Browser Check</h2>
    <p id="browser-check">Checking...</p>
  </div>
  
  <div class="card">
    <h2>JavaScript Check</h2>
    <p id="js-check" class="success">JavaScript is working!</p>
  </div>
  
  <div class="card">
    <h2>LocalStorage Check</h2>
    <p id="storage-check">Checking...</p>
    <button id="test-storage">Test Storage</button>
  </div>
  
  <div class="card">
    <h2>Network Check</h2>
    <p id="network-check">Checking...</p>
    <button id="test-network">Test Network</button>
  </div>
  
  <div class="card">
    <h2>Next Steps</h2>
    <p>Try these steps if you're experiencing issues:</p>
    <ol>
      <li>Clear browser cache and cookies</li>
      <li>Try a different browser</li>
      <li>Disable browser extensions</li>
      <li>Check your internet connection</li>
    </ol>
    <p><a href="/">Return to application</a></p>
  </div>
  
  <script>
    // Browser check
    function checkBrowser() {
      const browser = navigator.userAgent;
      document.getElementById('browser-check').textContent = browser;
      
      // Check for known incompatible browsers
      if (browser.indexOf('MSIE') >= 0 || browser.indexOf('Trident/') >= 0) {
        document.getElementById('browser-check').innerHTML = 
          'You are using Internet Explorer which is not supported. <span class="error">Please use Chrome, Firefox, Safari or Edge.</span>';
      } else {
        document.getElementById('browser-check').innerHTML += 
          ' <span class="success">Your browser should be compatible.</span>';
      }
    }
    
    // LocalStorage check
    function checkStorage() {
      const storageEl = document.getElementById('storage-check');
      try {
        localStorage.setItem('test', 'test');
        const value = localStorage.getItem('test');
        localStorage.removeItem('test');
        
        if (value === 'test') {
          storageEl.innerHTML = 'LocalStorage is <span class="success">available and working</span>.';
        } else {
          storageEl.innerHTML = '<span class="error">LocalStorage test failed.</span> The app may not work correctly.';
        }
      } catch (e) {
        storageEl.innerHTML = '<span class="error">LocalStorage is not available.</span> This could be due to private browsing or browser settings.';
      }
    }
    
    // Network check
    function checkNetwork() {
      const networkEl = document.getElementById('network-check');
      
      if (navigator.onLine) {
        networkEl.innerHTML = 'You are <span class="success">online</span>.';
      } else {
        networkEl.innerHTML = 'You are <span class="error">offline</span>. The app requires internet connectivity.';
      }
    }
    
    // Test network request
    document.getElementById('test-network').addEventListener('click', function() {
      const networkEl = document.getElementById('network-check');
      networkEl.textContent = 'Testing network connection...';
      
      fetch('/')
        .then(response => {
          if (response.ok) {
            networkEl.innerHTML = 'Network request <span class="success">successful</span>.';
          } else {
            networkEl.innerHTML = `Network request <span class="error">failed</span> with status: ${response.status}`;
          }
        })
        .catch(error => {
          networkEl.innerHTML = `Network request <span class="error">failed</span>: ${error.message}`;
        });
    });
    
    // Test storage again
    document.getElementById('test-storage').addEventListener('click', function() {
      checkStorage();
    });
    
    // Run checks on load
    window.addEventListener('load', function() {
      checkBrowser();
      checkStorage();
      checkNetwork();
    });
  </script>
</body>
</html>
